#!name=AD ByeBye+ 2.x
#!desc=Most Optimized Ad-free Experience presented with automated updates. | æä¾›æœ€ä¼˜åŒ–æ— å¹¿å‘Šä½“éªŒï¼Œè‡ªåŠ¨åŒæ­¥æ›´æ–°ã€‚\nRepo: https://tuu.cat/repoãƒ»Update: 5/26/2025ãƒ»Support: @bunizaoãƒ» Channel: @hututu00\nModified by @chichi for personal use.
#!include=WeChatURL, QQMusic, Himalaya, YouTube, Spotify, SodaMusic, SMZDM, iMaiCai, Cainiao, Umetrip, UnnooQuan, Eleme, Meituan
#!url=https://chichi.sh/ADBlock
#!category=ğŸš­ AD Block
#!author=@ilychi & Everyone in the community
#!source=Rules@ilychi | Xiaohongshu@ddgksf2013 | Amap@kokoryh | Cainiao@Keywos | Weibo@RuCu6 | Zhihu@RuCu6 | MiniProgram@bunizao | Chores@bunizao | Tools@ScriptHub
#------------------------------------------------------

[Rule]

RULE-SET,https://raw.githubusercontent.com/ilychi/esdeath/main/Surge/Modules/Rules/direct.list,DIRECT,extended-matching
RULE-SET,https://raw.githubusercontent.com/ilychi/esdeath/main/Surge/Modules/Rules/reject.list,REJECT,pre-matching,extended-matching,no-resolve
RULE-SET,https://raw.githubusercontent.com/ilychi/esdeath/main/Surge/Modules/Rules/reject-tinygif.list,REJECT-TINYGIF,extended-matching

[URL Rewrite]

# ----------- Himalaya -----------
^https:\/\/gslbali\.ximalaya\.com\/linkeye-cloud\/httpdns\/ - reject
^https:\/\/video-dsp\.pddpic\.com\/market-dsp-video\/ - reject
^https:\/\/t-dsp\.pinduoduo\.com\/dspcb\/i\/mrk_union - reject
^https:\/\/images\.pinduoduo\.com\/mrk\/ - reject
^https:\/\/images\.pinduoduo\.com\/marketing_api\/ - reject

# ----------- Eleme -----------
^https:\/\/elemecdn.com\/.+\/sitemap - reject
^https:\/\/fuss10.elemecdn.com\/.+\/w\/640\/h\/\d{3,4} - reject
^https:\/\/fuss10.elemecdn.com\/.+\/w\/750\/h\/\d{3,4} - reject
^https:\/\/fuss10.elemecdn.com\/.+\.mp4 - reject
^https:\/\/www1.elecfans.com\/www\/delivery - reject

########################################################################################

[Map Local]

# ----------- Himalaya -----------
^https:\/\/(search|searchwsa)\.ximalaya\.com\/hub\/(guideWord|hotWord)V\d\/ data-type=text data="{}" status-code=200
^https:\/\/(mobile|mobilehera|mobwsa)\.ximalaya\.com\/discovery-feed\/v\d\/scene\/listen\/refresh\? data-type=text data="{}" status-code=200
^https:\/\/(m|mwsa)\.ximalaya\.com\/x-web-activity\/signIn\/getHomePageSignInInfo\/ data-type=text data="{}" status-code=200
^https:\/\/(mobile|mobilehera|mobwsa)\.ximalaya\.com\/subscribe\/v\d\/subscribe\/tagAlbumList$ data-type=text data="{}" status-code=200
^https:\/\/(mobile|mobilehera|mobwsa)\.ximalaya\.com\/track-feed\/v\d\/chase\/recommend\/ data-type=text data="{}" status-code=200
^https:\/\/(mobile|mobilehera|mobwsa)\.ximalaya\.com\/social-web\/follow-stream\/category\/\d+$ data-type=text data="{}" status-code=200
^https:\/\/(mobile|mobilehera|mobwsa)\.ximalaya\.com\/mobile-playpage\/playpage\/recommendContentV\d\/ data-type=text data="{}" status-code=200
^https:\/\/(mobile|mobilehera|mobwsa)\.ximalaya\.com\/mobile-playpage\/playpage\/recommend\/resource\/allocation\/ data-type=text data="{}" status-code=200
^https:\/\/(mobile|mobilehera|mobwsa)\.ximalaya\.com\/firework-portal\/v\d+\/sync\? data-type=text data="{}" status-code=200
^https:\/\/(mobile|mobilehera|mobwsa)\.ximalaya\.com\/business-sale-promotion-guide-mobile-web\/popup\/ data-type=text data="{}" status-code=200
^https:\/\/(mobile|mobilehera|mobwsa)\.ximalaya\.com\/app-skin-service\/skin\/setting\/info\/ data-type=text data="{}" status-code=200
^https:\/\/(live|livewsa)\.ximalaya\.com\/lamia\/v1\/subscribe\/status$ data-type=text data="{}" status-code=200
^https:\/\/(mobile|mobilehera|mobwsa)\.ximalaya\.com\/subscribe\/v\d\/subscribe\/recommend\? data-type=text data="{}" status-code=200
^https:\/\/(mobile|mobilehera|mobwsa)\.ximalaya\.com\/mobile-user\/v\d\/purchased\/recommend\/ data-type=text data="{}" status-code=200
^https:\/\/(m|mwsa)\.ximalaya\.com\/community\/square\/v\d\/stream\? data-type=text data="{"data":{"cards":[{"content":{},"type":"RECOMMENDS"}]},"ret":0}" status-code=200 header="Content-Type:text/json"

# ----------- YouTube ------------
^https?:\/\/[\w-]+\.googlevideo\.com\/initplayback.+&oad data-type=text data=" " status-code=200

# ---------- SodaMusic -----------
^https:\/\/webcast-open\.douyin\.com\/webcast\/openapi\/feed\/\? data-type=text data="{}" status-code=200
^https:\/\/beta-luna\.douyin\.com\/luna\/commerce\/upsells\? data-type=text data="{}" status-code=200
^https:\/\/beta-luna\.douyin\.com\/luna\/commerce\/v2\/commerce_info\? data-type=text data="{}" status-code=200

# ------------ SMZDM -------------
^https:\/\/haojia\.m\.smzdm\.com\/detail_modul\/(other_modul|wiki_related_modul)|^https:\/\/s3\.zdmimg\.com\/third\/index|^https:\/\/app-api\.smzdm\.com\/util\/loading data-type=text data="{}" status-code=200

# ----------- iMaiCai ------------
^https:\/\/mall\.meituan\.com\/api\/c\/homepage\/splash data-type=text data="{}" status-code=200
^https:\/\/mall\.meituan\.com\/api\/c\/homepage\/bubble\/operate\/info data-type=text data="{}" status-code=200
^https:\/\/mall\.meituan\.com\/api\/c\/jigsaw\/code\/category-banner-\d+\/ data-type=text data="{}" status-code=200
^https:\/\/mall\.meituan\.com\/api\/c\/poi\/\d+\/order\/recommend\/v\d data-type=text data="{}" status-code=200
^https:\/\/mall\.meituan\.com\/api\/c\/banner\/ data-type=text data="{}" status-code=200
^https:\/\/mall\.meituan\.com\/api\/c\/poi\/\d+\/personal\/recommend data-type=text data="{}" status-code=200
^https:\/\/businessapi\.ksedt\.com\/signupindex\/jxlist data-type=text data="{}" status-code=200

# ----------- Cainiao ------------
^https:\/\/cn-acs\.m\.cainiao\.com\/gw\/mtop\.cainiao\.app\.home\.tabbar\.marketing\.get\.cn data-type=text data="{}" status-code=200
^https:\/\/cn-acs\.m\.cainiao\.com\/gw\/mtop\.cainiao\.adkeyword\.get\.cn data-type=text data="{}" status-code=200
^https:\/\/cn-acs\.m\.cainiao\.com\/gw\/mtop\.cainiao\.cncommunity\.my\.station\.query\.cn data-type=text data="{}" status-code=200
^https:\/\/cn-acs\.m\.cainiao\.com\/gw\/mtop\.cainiao\.guoguo\.nbnetflow\.ads\.(batch\.show\.v2|expose\.mreply|index)\.cn data-type=text data="{}" status-code=200
^https:\/\/cn-acs\.m\.cainiao\.com\/gw\/mtop\.cainiao\.nbopen\.miniapp\.recommend\.cpc\.cn data-type=text data="{}" status-code=200
^https:\/\/cn-acs\.m\.cainiao\.com\/gw\/mtop\.cainiao\.nbmensa\.research\.researchservice\.(acquire|event|close)\.cn data-type=text data="{}" status-code=200
^https:\/\/cn-acs\.m\.cainiao\.com\/gw\/mtop\.cainiao\.nbpresentation\.(homepage\.merge|tabbar\.marketing)\.get\.cn data-type=text data="{}" status-code=200
^https:\/\/cn-acs\.m\.cainiao\.com\/gw\/mtop\.com\.cainiao\.cnactivitycenter data-type=text data="{}" status-code=200
^https:\/\/cn-acs\.m\.cainiao\.com\/gw\/mtop\.com\.cainiao\.cncreditmarket\.hit\.getactivityhit\.cn data-type=text data="{}" status-code=200
^https:\/\/cn-acs\.m\.cainiao\.com\/gw\/mtop\.com\.cainiao\.longquan\.place\.getpageresourcecontent\.cn data-type=text data="{}" status-code=200
^https:\/\/guide-acs\.m\.taobao\.com\/gw\/mtop\.cainiao\.adx\.flyad\.getad data-type=text data="{}" status-code=200

# ----------- Meituan -----------
^http:\/\/wmapi\.meituan\.com\/api\/v7\/(loadInfo|openscreen|startpicture)\? data-type=text data="{}" status-code=200
^https:\/\/flowplus\.meituan\.net\/v1\/mss_\w+\/linglong\/\d+\.jpg data-type=text data="{}" status-code=200
^https:\/\/img\.meituan\.net\/bizad\/bizad_brandCpt_\d+\.jpg data-type=text data="{}" status-code=200
^https:\/\/s3plus\.meituan\.net\/v1\/mss_\w+\/(brandcpt-vedio|waimai-alita)\/\w+\.zip$ data-type=text data="{}" status-code=200

########################################################################################

[Script]

# ---------- WeChatURL -----------
å¾®ä¿¡å¤–éƒ¨é“¾æ¥è§£é” = type=http-response, pattern=^https\:\/\/(weixin110\.qq|security.wechat)\.com\/cgi-bin\/mmspamsupport-bin\/newredirectconfirmcgi\?, script-path=https://github.com/ilychi/esdeath/raw/main/Surge/Scripts/Weixin_external_links_unlock.js, requires-body=true

# ----------- YouTube ------------
YouTubeå»å¹¿å‘Š = type=http-response, pattern=^https:\/\/youtubei\.googleapis\.com\/youtubei\/v1\/(browse|next|player|search|reel\/reel_watch_sequence|guide|account\/get_setting|get_watch), script-path=https://github.com/ilychi/esdeath/raw/main/Surge/Scripts/YouTube_remove_ads_response.js, requires-body=true, binary-body-mode=true, argument="[{blockUpload},{blockShorts},{blockImmersive},{captionLang},{lyricLang},{debug}]"

# ----------- Spotify ------------
JSONå¤„ç† = type=http-request, pattern=^https:\/\/spclient\.wg\.spotify\.com\/(artistview\/v1\/artist|album-entity-view\/v2\/album)\/, script-path=https://github.com/ilychi/esdeath/raw/main/Surge/Scripts/Spotify_remove_ads.js, timeout=10
Protoå¤„ç† = type=http-response, pattern=^https:\/\/spclient\.wg\.spotify\.com\/(bootstrap\/v1\/bootstrap|user-customization-service\/v1\/customize)$, script-path=https://github.com/ilychi/esdeath/raw/main/Surge/Scripts/Spotify_proto.js, requires-body=true, binary-body-mode=true, timeout=10

# ------------ SMZDM -------------
ç§»é™¤å¹¿å‘Š = type=http-response, pattern=^https:\/\/app-api\.smzdm\.com\/util\/loading, script-path=https://github.com/ilychi/esdeath/raw/main/Surge/Scripts/smzdm_remove_ads.js, requires-body=true
ç§»é™¤å¹¿å‘Š = type=http-response, pattern=^https:\/\/haojia-api\.smzdm\.com\/home\/list, script-path=https://github.com/ilychi/esdeath/raw/main/Surge/Scripts/smzdm_remove_ads.js, requires-body=true
ç§»é™¤å¹¿å‘Š = type=http-response, pattern=^https:\/\/app-api\.smzdm\.com\/util\/update, script-path=https://github.com/ilychi/esdeath/raw/main/Surge/Scripts/smzdm_remove_ads.js, requires-body=true
ç§»é™¤å¹¿å‘Š = type=http-response, pattern=^https:\/\/homepage-api\.smzdm\.com\/v3\/home, script-path=https://github.com/ilychi/esdeath/raw/main/Surge/Scripts/smzdm_remove_ads.js, requires-body=true
ç§»é™¤å¹¿å‘Š = type=http-response, pattern=^https:\/\/user-api\.smzdm\.com\/vip, script-path=https://github.com/ilychi/esdeath/raw/main/Surge/Scripts/smzdm_remove_ads.js, requires-body=true
ç§»é™¤å¹¿å‘Š = type=http-response, pattern=^https:\/\/user-api\.smzdm\.com\/vip\/bottom_card_list, script-path=https://github.com/ilychi/esdeath/raw/main/Surge/Scripts/smzdm_remove_ads.js, requires-body=true
ç§»é™¤å¹¿å‘Š = type=http-response, pattern=^https:\/\/article-api\.smzdm\.com\/publish\/get_bubble, script-path=https://github.com/ilychi/esdeath/raw/main/Surge/Scripts/smzdm_remove_ads.js, requires-body=true
ç§»é™¤å¹¿å‘Š = type=http-response, pattern=^https:\/\/qianbao\.smzdm\.com\/v\d\/app\/home, script-path=https://github.com/ilychi/esdeath/raw/main/Surge/Scripts/smzdm_remove_ads.js, requires-body=true
ç§»é™¤å¹¿å‘Š = type=http-response, pattern=^https:\/\/s3\.zdmimg\.com\/third\/index, script-path=https://github.com/ilychi/esdeath/raw/main/Surge/Scripts/smzdm_remove_ads.js, requires-body=true
ç§»é™¤å¹¿å‘Š = type=http-response, pattern=^https:\/\/post\.m\.smzdm\.com\/ajax_app\/ajax_get_footer_list, script-path=https://github.com/ilychi/esdeath/raw/main/Surge/Scripts/smzdm_remove_ads.js, requires-body=true

# ----------- iMaiCai ------------
ç§»é™¤ä¸‹å‘å¹¿å‘Š = type=http-response, pattern=^https:\/\/portal-portm\.meituan\.com\/horn_ios\/mergeRequest, script-path=https://github.com/ilychi/esdeath/raw/main/Surge/Scripts/iMaiCai_remove_ads.js, requires-body=true

# ----------- Cainiao ------------
ç§»é™¤æˆ‘çš„é¡µé¢æ¨å¹¿ = type=http-response, pattern=^https:\/\/cn-acs\.m\.cainiao\.com\/gw\/mtop\.cainiao\.app\.mine\.main\.cn, script-path=https://github.com/ilychi/esdeath/raw/main/Surge/Scripts/Cainiao_remove_ads.js, requires-body=true
ç§»é™¤é¦–é¡µæ¨å¹¿ = type=http-response, pattern=^https:\/\/cn-acs\.m\.cainiao\.com\/gw\/mtop\.cainiao\.guoguo\.nbnetflow\.ads\.m?show\.cn, script-path=https://github.com/ilychi/esdeath/raw/main/Surge/Scripts/Cainiao_remove_ads.js, requires-body=true
ç§»é™¤é¦–é¡µæ¨å¹¿ = type=http-response, pattern=^https:\/\/cn-acs\.m\.cainiao\.com\/gw\/mtop\.cainiao\.nbpresentation\.(pickup\.empty\.page|protocol\.homepage)\.get\.cn, script-path=https://github.com/ilychi/esdeath/raw/main/Surge/Scripts/Cainiao_remove_ads.js, requires-body=true
ç§»é™¤æ¶ˆæ¯ä¸­å¿ƒæ¨å¹¿ = type=http-response, pattern=^https:\/\/cn-acs\.m\.cainiao\.com\/gw\/mtop\.nbfriend\.message\.conversation\.list\.cn, script-path=https://github.com/ilychi/esdeath/raw/main/Surge/Scripts/Cainiao_remove_ads.js, requires-body=true
ç§»é™¤èœé¸Ÿå°ç¨‹åºæ¨å¹¿ = type=http-response, pattern=^https:\/\/guide-acs\.m\.taobao\.com\/gw\/mtop\.cainiao\.guoguo\.nbnetflow\.ads\.mshow, script-path=https://github.com/ilychi/esdeath/raw/main/Surge/Scripts/Cainiao_remove_ads.js, requires-body=true

# ----------- Umetrip ------------
ç§»é™¤é¦–é¡µå¹¿å‘Š = type=http-response, pattern=^http?:\/\/(114\.115\.217\.129)|(home\.umetrip\.com)\/gateway\/api\/umetrip\/native$, script-path=https://github.com/ilychi/esdeath/raw/main/Surge/Scripts/Umetrip_remove_ads.js

########################################################################################

[MITM]
hostname = %APPEND% elemecdn.com, fuss10.elemecdn.com, www1.elecfans.com, flowplus.meituan.net, img.meituan.net, s3plus.meituan.net, weixin110.qq.com, security.wechat.com, gslbali.ximalaya.com, search.ximalaya.com, searchwsa.ximalaya.com, mobile.ximalaya.com, mobilehera.ximalaya.com, mobwsa.ximalaya.com, m.ximalaya.com, mwsa.ximalaya.com, video-dsp.pddpic.com, t-dsp.pinduoduo.com, images.pinduoduo.com, *.googlevideo.com, youtubei.googleapis.com, spclient.wg.spotify.com, webcast-open.douyin.com, beta-luna.douyin.com, haojia-api.smzdm.com, homepage-api.smzdm.com, app-api.smzdm.com, user-api.smzdm.com, article-api.smzdm.com, qianbao.smzdm.com, s3.zdmimg.com, portal-portm.meituan.com, mall.meituan.com, businessapi.ksedt.com, cn-acs.m.cainiao.com, guide-acs.m.taobao.com, 114.115.217.129, home.umetrip.com, api.zsxq.com
h2 = true
tcp-connection = true
